<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gym Rats: Plano de Alimentação</title>
    <link rel="stylesheet" href="assets/style/header.css">
    <link rel="stylesheet" href="assets/style/alimentacao.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="shortcut icon" type="imagex/png" href="assets/logo.ico">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
   <header class="main-header">
    <div class="container header-content">
        <div class="logo-area">
          <h1 class="logo"><a href="/inicio">GYM RATS</a></h1>
        </div>

        <div class="auth-section">
          <div class="user-info" id="user-auth-display">
              <i class="fas fa-user-circle"></i>
              <span id="auth-text">Perfil</span>
          </div>
          <div class="auth-dropdown" id="auth-dropdown">
              <a href="login" id="login-link">
              <i class="fas fa-sign-in-alt"></i> Login
              </a>
              <a href="#" id="logout-link" style="display: none;">
              <i class="fas fa-sign-out-alt"></i> Sair
              </a>
          </div>
        </div>

        <div class="dropdown-menu-toggle" id="dropdownMenuToggle">
          <i class="fas fa-bars"></i>
        </div>
        <div class="dropdown-nav" id="dropdownNav">
          <a href="#features-buttons"><i class="fas fa-star"></i> Funcionalidades</a>
          <a href="equipe"><i class="fas fa-users"></i> Equipe</a>
          <a href="equipe#aboutProject"><i class="fas fa-info-circle"></i> Sobre Nós</a>
          <a href="#contact"><i class="fas fa-envelope"></i> Contato</a>
        </div>

        <nav class="main-nav">
          <ul>
              <li><a href="#features-buttons">Funcionalidades</a></li>
              <li><a href="equipe">Equipe</a></li>
              <li><a href="equipe#aboutProject">Sobre Nós</a></li>
              <li><a href="#contact">Contato</a></li>
          </ul>
        </nav>
    </div>
  </header>

    <main class="alimentacao-section">
        <div class="container">
            <section class="alimentacao-header-info">
                <h2>Seu Plano Alimentar Semanal</h2>
                <p>Otimize seus resultados com uma nutrição personalizada para sua jornada fitness!</p>
                <div class="summary-info hidden" id="nutri-summary-info">
                    <p>Objetivo: <span id="nutri-objective"></span> | Nível: <span id="nutri-level"></span> | Frequência de Treino: <span id="nutri-frequency"></span></p>
                    <p class="estimated-calories hidden">Calorias diárias estimadas: <span id="nutri-calories"></span> kcal</p>
                </div>
            </section>

            <section class="alimentacao-form-section" id="nutri-form-section">
                <div class="form-progress-bar">
                    <div class="progress-step" data-step="1"></div>
                    <div class="progress-step" data-step="2"></div>
                    <div class="progress-step" data-step="3"></div>
                </div>
                <form id="nutrition-details-form">
                    <div class="form-step active" data-step="1">
                        <div class="step-header">
                            <h4>Informações Pessoais</h4>
                            <p>Dados básicos para calcularmos suas necessidades calóricas.</p>
                        </div>
                        <div class="form-group">
                            <label for="user-weight">Peso (kg):</label>
                            <div class="input-wrapper">
                                <i class="fas fa-weight-hanging"></i>
                                <input type="number" id="user-weight" class="form-input" placeholder="Ex: 75.5" step="0.1" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="user-height">Altura (cm):</label>
                            <div class="input-wrapper">
                                <i class="fas fa-ruler-vertical"></i>
                                <input type="number" id="user-height" class="form-input" placeholder="Ex: 170" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="user-age">Idade:</label>
                            <div class="input-wrapper">
                                <i class="fas fa-birthday-cake"></i>
                                <input type="number" id="user-age" class="form-input" placeholder="Ex: 30" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Gênero:</label>
                            <div class="radio-group">
                                <input type="radio" id="gender-male" name="gender" value="male" required>
                                <label for="gender-male"><i class="fas fa-mars"></i> Masculino</label>
                                <input type="radio" id="gender-female" name="gender" value="female">
                                <label for="gender-female"><i class="fas fa-venus"></i> Feminino</label>
                            </div>
                        </div>
                        <div class="form-navigation-buttons">
                            <button type="button" id="next-step-1" class="action-button primary-button">Próximo <i class="fas fa-arrow-right"></i></button>
                        </div>
                    </div>
                    <div class="form-step" data-step="2">
                        <div class="step-header">
                            <h4>Seus Objetivos e Rotina</h4>
                            <p>Qual sua meta principal e seu nível de atividade física.</p>
                        </div>
                        <div class="form-group">
                            <label for="activity-level">Nível de Atividade Física:</label>
                            <div class="input-wrapper">
                                <i class="fas fa-bolt"></i>
                                <select id="activity-level" class="form-select" required>
                                    <option value="">Selecione...</option>
                                    <option value="sedentary">Sedentário (pouco ou nenhum exercício)</option>
                                    <option value="light">Levemente Ativo (exercício leve 1-3 dias/semana)</option>
                                    <option value="moderate">Moderadamente Ativo (exercício moderado 3-5 dias/semana)</option>
                                    <option value="active">Muito Ativo (exercício intenso 6-7 dias/semana)</option>
                                    <option value="very-active">Extremamente Ativo (exercício muito intenso, trabalho físico)</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="user-goal">Objetivo:</label>
                            <div class="input-wrapper">
                                <i class="fas fa-bullseye"></i>
                                <select id="user-goal" class="form-select" required>
                                    <option value="">Selecione...</option>
                                    <option value="perda de peso">Perda de Peso</option>
                                    <option value="hipertrofia muscular">Hipertrofia Muscular</option>
                                    <option value="ganho de forca">Ganho de Força</option>
                                    <option value="manutencao">Manutenção</option>
                                    <option value="saude geral">Saúde Geral</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="meal-count">Refeições por dia:</label>
                            <div class="input-wrapper">
                                <i class="fas fa-utensils"></i>
                                <input type="number" id="meal-count" class="form-input" placeholder="Ex: 5" min="1" max="10" required>
                            </div>
                        </div>
                        <div class="form-navigation-buttons">
                            <button type="button" id="prev-step-2" class="action-button secondary-button"><i class="fas fa-arrow-left"></i> Anterior</button>
                            <button type="button" id="next-step-2" class="action-button primary-button">Próximo <i class="fas fa-arrow-right"></i></button>
                        </div>
                    </div>
                    <div class="form-step" data-step="3">
                        <div class="step-header">
                            <h4>Preferências e Restrições</h4>
                            <p>Informe suas preferências para um plano perfeito para você.</p>
                        </div>
                        <div class="form-group">
                            <label for="diet-type">Tipo de Dieta Preferida:</label>
                            <div class="input-wrapper">
                                <i class="fas fa-list-alt"></i>
                                <select id="diet-type" class="form-select">
                                    <option value="omnivore">Onívora (padrão)</option>
                                    <option value="vegetarian">Vegetariana</option>
                                    <option value="vegan">Vegana</option>
                                    <option value="keto">Cetogênica</option>
                                    <option value="sem gluten">Sem Glúten</option>
                                    <option value="low carb">Low Carb</option>
                                    <option value="outra">Outra (especificar abaixo)</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="food-restrictions">Restrições ou Alergias Alimentares:</label>
                            <div class="input-wrapper">
                                <i class="fas fa-ban"></i>
                                <textarea id="food-restrictions" class="form-input" rows="3" placeholder="Ex: lactose, frutos do mar..." style="resize: vertical;"></textarea>
                            </div>
                        </div>
                        <div class="form-navigation-buttons">
                            <button type="button" id="prev-step-3" class="action-button secondary-button"><i class="fas fa-arrow-left"></i> Anterior</button>
                            <button type="submit" id="submit-nutrition-form" class="action-button primary-button"><i class="fas fa-star"></i> Gerar Plano</button>
                        </div>
                    </div>
                </form>
                <div class="form-loading-overlay" id="form-loading-overlay"> <div class="loading-content">
                        <div class="loading-spinner-circle"></div>
                        <p class="loading-text">Gerando seu plano alimentar inteligente...</p>
                        <p class="loading-subtext">Isso pode levar alguns segundos.</p>
                    </div>
                </div>
            </section>

            <section id="nutri-plan-output" class="alimentacao-plan-output hidden">
                <div class="plan-navigation">
                    <button id="prev-day" class="nav-button"><i class="fas fa-chevron-left"></i></button>
                    <div class="day-title-container">
                        <i class="fas fa-calendar-alt"></i>
                        <span id="current-day-name" class="current-day-name"></span>
                    </div>
                    <button id="next-day" class="nav-button"><i class="fas fa-chevron-right"></i></button>
                </div>
                <div id="current-day-card" class="day-plan-card">
                </div>
                <div class="ai-disclaimer">
                    <i class="fas fa-info-circle"></i>
                    <span>Este plano é uma sugestão gerada por IA. Consulte um nutricionista.</span>
                </div>
                <div id="nutri-tips-section" class="nutri-tips-section hidden">
                    <h4><i class="fas fa-lightbulb"></i> Dicas Importantes:</h4>
                    <ul id="nutri-tips-list">
                    </ul>
                </div>
                <div class="plan-actions">
                    <button id="regenerate-nutri-btn" class="action-button secondary-button"><i class="fas fa-redo"></i> Regerar Plano</button>
                    <button id="export-nutri-btn" class="action-button primary-button"><i class="fas fa-file-pdf"></i> Exportar para PDF</button>
                </div>
            </section>
        </div>
    </main>

    <div id="notification-toast" class="notification-toast"></div>

    <div id="meal-details-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <button class="modal-close-button">&times;</button>
            <div class="modal-header">
                <i id="modal-meal-icon" class="fas fa-utensils"></i>
                <h3 id="modal-meal-title">Detalhes da Refeição</h3>
            </div>
            <div id="modal-meal-body" class="modal-body">
                </div>
            <div id="modal-meal-summary" class="modal-summary">
                </div>
        </div>
    </div>

    <script type="module" src="assets/js/alimentacao.js"></script>
    <script type="module" src="assets/js/header.js"></script>
</body>
</html>